version: "3"

tasks:
  fmt:
    dir: terraform
    cmds:
      - terraform fmt

  plan:
    dir: terraform
    cmds:
      - terraform plan {{ .CLI_ARGS }}

  apply:
    dir: terraform
    cmds:
      - terraform apply {{ .CLI_ARGS }}

  init:
    dir: terraform
    cmds:
      - terraform init {{ .CLI_ARGS }}

  lint:
    dir: terraform
    cmds:
      - tflint
