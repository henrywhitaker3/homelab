apiVersion: v1
kind: Namespace
metadata:
  name: 1password

---

apiVersion: v1
data:
  1password-credentials.json: {{ onePasswordToken | b64encode | b64encode }}
kind: Secret
metadata:
  name: op-credentials
  namespace: 1password
  labels:
    app.kubernetes.io/component: connect
type: Opaque

---

apiVersion: v1
kind: Secret
metadata:
  name: onepassword-token
  namespace: 1password
  labels:
    app.kubernetes.io/component: operator
data:
  token: {{ onePasswordConnectToken | b64encode }}
type: Opaque
