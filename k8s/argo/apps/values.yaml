projects:
  - name: cluster
    description: Things that make the cluster work
  - name: apps
    description: Our apps running in the cluster

charts:
  - name: metallb
    project: cluster
    namespace: metallb
    path: metallb
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: ingress-nginx
    project: cluster
    namespace: ingress-nginx
    path: ingress-nginx
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: cert-manager
    project: cluster
    namespace: cert-manager
    path: cert-manager
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: longhorn
    project: cluster
    namespace: longhorn
    path: longhorn
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: gitlab-runner
    project: apps
    namespace: gitlab-runner
    path: gitlab-runner
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: descheduler
    project: cluster
    namespace: kube-system
    path: descheduler
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: connect
    project: cluster
    namespace: 1password
    path: 1password
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: smb-provisioner
    project: cluster
    namespace: kube-system
    path: smb-provisioner
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: sonarr
    project: apps
    namespace: media
    path: sonarr
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: radarr
    project: apps
    namespace: media
    path: radarr
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: overseerr
    project: apps
    namespace: media
    path: overseerr
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: organizr
    project: apps
    namespace: media
    path: organizr
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: prowlarr
    project: apps
    namespace: media
    path: prowlarr
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: tautulli
    project: apps
    namespace: media
    path: tautulli
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: speedtest
    project: apps
    namespace: misc
    path: speedtest
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: transmission
    project: apps
    namespace: media
    path: transmission
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: redis
    project: apps
    namespace: databases
    path: redis
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: mariadb
    project: apps
    namespace: databases
    path: mariadb
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: authelia
    project: apps
    namespace: authelia
    path: authelia
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: kube-prometheus-stack
    project: apps
    namespace: monitoring
    path: prometheus
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: plex
    project: apps
    namespace: media
    path: plex
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: redeployer
    project: cluster
    namespace: media
    path: redeployer
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: uptime-kuma
    project: apps
    namespace: monitoring
    path: uptime-kuma
    repoUrl: https://gitlab.com/henrywhitaker3/charts.git
    targetRevision: HEAD
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  # - name: rancher
  #   project: cluster
  #   namespace: cattle-system
  #   chart: rancher
  #   repoUrl: https://releases.rancher.com/server-charts/stable
  #   targetRevision: 2.7.3
  #   values:
  #     hostname: rancher.plexmox.com
  #     ingress:
  #       tls:
  #         source: letsEncrypt
  #     letsEncrypt:
  #       email: no-reply@plexmox.com
  #   syncPolicy:
  #     syncOptions:
  #       - CreateNamespace=true
  #     automated:
  #       prune: true
  #       selfHeal: true
