projects:
  - name: cluster
    description: Things that make the cluster work
  - name: apps
    description: Our apps running in the cluster

charts:
  - name: metallb
    project: cluster
    namespace: metallb
    chart: metallb
    repoUrl: https://metallb.github.io/metallb
    targetRevision: 0.13.7
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: ingress-nginx
    project: cluster
    namespace: ingress-nginx
    chart: ingress-nginx
    repoUrl: https://kubernetes.github.io/ingress-nginx
    targetRevision: 4.4.2
    values:
      controller:
        watchIngressWithoutClass: true
        replicaCount: 3
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: cert-manager
    project: cluster
    namespace: cert-manager
    chart: cert-manager
    repoUrl: https://charts.jetstack.io
    targetRevision: 1.9.1
    values:
      installCRDs: true
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: sealed-secrets-controller
    project: cluster
    namespace: kube-system
    chart: sealed-secrets
    repoUrl: https://bitnami-labs.github.io/sealed-secrets
    targetRevision: 2.6.9
    values:
      image:
        registry: docker.io
        repository: bitnami/sealed-secrets-controller
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

  - name: rancher
    project: cluster
    namespace: cattle-system
    chart: rancher
    repoUrl: https://releases.rancher.com/server-charts/stable
    targetRevision: 2.7.0
    values:
      hostname: rancher.voodoosms.com
      ingress:
        tls:
          source: letsEncrypt
      letsEncrypt:
        email: accounts@voodoosms.com
    syncPolicy:
      syncOptions:
        - CreateNamespace=true
      automated:
        prune: true
        selfHeal: true

