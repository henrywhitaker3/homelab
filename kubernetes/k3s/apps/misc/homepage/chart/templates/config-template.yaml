apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
data:
  kubernetes.yaml: |
    mode: cluster
  settings.yaml: ""
  bookmarks.yaml: ""
  services.yaml: |
    - Services:
        - Plex:
            href: https://plex.plexmox.com
            siteMonitor: https://plex.plexmox.com
            icon: plex.png
            widget:
              type: tautulli
              url: http://tautulli.media.svc.cluster.local
              key: "{{ `{{ .tautulli_token }}` }}"
              enableUser: true
              showEpisodeNumber: true
              expandOneStreamToTwoRows: true
        - Overseerr:
            href: https://overseerr.plexmox.com
            siteMonitor: https://overseerr.plexmox.com
            widget:
              type: overseerr
              url: http://overseerr.media.svc.cluster.local:5055
              key: "{{ `{{ .overseerr_token }}`}}"
        - Grafana:
            href: https://grafana.plexmox.com
            siteMonitor: https://grafana.plexmox.com

  widgets.yaml: ""
  # widgets.yaml: |
  #   - kubernetes:
  #       cluster:
  #         show: true
  #         cpu: true
  #         memory: true
  #         showLabel: true
  #         label: k3s
